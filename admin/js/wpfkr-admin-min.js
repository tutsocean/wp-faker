!function(r){"use strict";r(function(){r(document).on("click",".wpfkrDataCleaner",function(e){e.preventDefault();var s=r(this).attr("id");console.log(s);var t,p,o="";switch(s){case"wp-admin-bar-wpfkrDeleteUsers":o="wpfkrDeleteUsers";break;case"wp-admin-bar-wpfkrDeletePosts":o="wpfkrDeletePosts";break;case"wp-admin-bar-wpfkrDeleteProducts":o="wpfkrDeleteProducts";break;case"wp-admin-bar-wpfkrDeleteThumbnails":o="wpfkrDeleteThumbnails"}t=o,p=wpfkr_backend_ajax_object.wpfkr_ajax_url,r.ajax({url:p,type:"post",dataType:"JSON",data:{action:t},beforeSend:function(){r("#wpfooter").append('<div class="wpfkrLoading">Loading&#8230;</div>'),r("#wpfooter").show()},error:a,success:function(e){r(".wpfkrLoading").remove(),"success"===e.status?console.log("success"):a()}}),console.log(o)}),r("#wpfkrListPostsTbl").DataTable(),r("#wpfkrListProductsTbl").DataTable();var e=!1;function a(){e=!1,r(".wpfkr-error-msg").html("Something went wrong. Please try again").fadeIn("fast").delay(1e3).fadeOut("slow")}r("#wpfkrGenPostForm").submit(function(s){if(e)return!1;s.preventDefault(),r(".remaining_posts").val(r(".wpfkr-post_count").val());var t=r(this);r(".dcsLoader").show(),function s(t){var p=t;var o=wpfkr_backend_ajax_object.wpfkr_ajax_url;r.ajax({url:o,type:"post",dataType:"JSON",data:p.serialize(),beforeSend:function(){e=!0,r(".wpfkrGeneratePosts").val("Generating posts.")},error:a,success:function(t){if(r(".wpfkrGeneratePosts").val("Generate posts."),"success"===t.status&&t.remaining_posts>0){r(".remaining_posts").val(t.remaining_posts);var o=r(".wpfkr-post_count").val(),n=Math.round(100*(o-t.remaining_posts)/o);r(".wpfkrLoaderPer").text(n+"%");var d="p"+n;r(".wpfkrLoaderWrpper").attr("class","wpfkrLoaderWrpper c100 blue"),r(".wpfkrLoaderWrpper").addClass(d),s(p)}else"success"===t.status&&0==t.remaining_posts?(r(".wpfkr-success-msg").html("Posts generated successfully.").fadeIn("fast").delay(1e3).fadeOut("slow"),r(".wpfkrLoaderPer").text("100%"),r(".wpfkrLoaderWrpper").attr("class","wpfkrLoaderWrpper c100 blue"),r(".wpfkrLoaderWrpper").addClass("p100"),r(".dcsLoader").hide(),r(".wpfkrLoaderPer").text("0%"),r(".wpfkrLoaderWrpper").attr("class","wpfkrLoaderWrpper c100 blue"),r(".wpfkrLoaderWrpper").addClass("p0"),e=!1):(a(),e=!1)}})}(t)}),r("#wpfkrGenProductForm").submit(function(s){if(e)return!1;s.preventDefault(),r(".remaining_products").val(r(".wpfkr-product_count").val());var t=r(this);r(".dcsLoader").show(),function s(t){var p=t;var o=wpfkr_backend_ajax_object.wpfkr_ajax_url;r.ajax({url:o,type:"post",dataType:"JSON",data:p.serialize(),beforeSend:function(){e=!0,r(".wpfkrGenerateProducts").val("Generating products.")},error:a,success:function(t){if(r(".wpfkrGenerateProducts").val("Generate products."),"success"===t.status&&t.remaining_products>0){r(".remaining_products").val(t.remaining_products);var o=r(".wpfkr-product_count").val(),n=Math.round(100*(o-t.remaining_products)/o);r(".wpfkrLoaderPer").text(n+"%");var d="p"+n;r(".wpfkrLoaderWrpper").attr("class","wpfkrLoaderWrpper c100 blue"),r(".wpfkrLoaderWrpper").addClass(d),s(p)}else"success"===t.status&&0==t.remaining_products?(r(".wpfkrLoaderPer").text("100%"),r(".wpfkrLoaderWrpper").attr("class","wpfkrLoaderWrpper c100 blue"),r(".wpfkrLoaderWrpper").addClass("p100"),r(".dcsLoader").hide(),r(".wpfkrLoaderPer").text("0%"),r(".wpfkrLoaderWrpper").attr("class","wpfkrLoaderWrpper c100 blue"),r(".wpfkrLoaderWrpper").addClass("p0"),r(".wpfkr-success-msg").html("Products generated successfully.").fadeIn("fast").delay(1e3).fadeOut("slow"),e=!1):(a(),e=!1)}})}(t)}),r("#wpfkrGenUserForm").submit(function(s){wpfkr_backend_ajax_object.wpfkr_ajax_url;if(e)return!1;s.preventDefault(),r(".remaining_users").val(r(".wpfkr-user_count").val()),r(".dcsLoader").show(),function s(t){var p=t;var o=wpfkr_backend_ajax_object.wpfkr_ajax_url;r.ajax({url:o,type:"post",dataType:"JSON",data:p.serialize(),beforeSend:function(){e=!0,r(".wpfkrGenerateUsers").val("Generating users.")},error:a,success:function(t){if("success"===t.status&&t.remaining_users>0){r(".remaining_users").val(t.remaining_users);var o=r(".wpfkr-user_count").val(),n=Math.round(100*(o-t.remaining_users)/o);r(".wpfkrLoaderPer").text(n+"%");var d="p"+n;r(".wpfkrLoaderWrpper").attr("class","wpfkrLoaderWrpper c100 blue"),r(".wpfkrLoaderWrpper").addClass(d),s(p)}else"success"===t.status&&0==t.remaining_users?(r(".wpfkr-success-msg").html("Users generated successfully.").fadeIn("fast").delay(1e3).fadeOut("slow"),r(".wpfkrLoaderPer").text("100%"),r(".wpfkrLoaderWrpper").attr("class","wpfkrLoaderWrpper c100 blue"),r(".wpfkrLoaderWrpper").addClass("p100"),r(".dcsLoader").hide(),r(".wpfkrLoaderPer").text("0%"),r(".wpfkrLoaderWrpper").attr("class","wpfkrLoaderWrpper c100 blue"),r(".wpfkrLoaderWrpper").addClass("p0"),r(".wpfkrGenerateUsers").val("Generate users."),e=!1):(a(),e=!1)}})}(r(this))})})}(jQuery);